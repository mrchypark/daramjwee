goos: darwin
goarch: arm64
pkg: github.com/mrchypark/daramjwee/pkg/store/memstore
cpu: Apple M3
BenchmarkMemStore_ConcurrentReadWrite-8   	 4286012	       136.1 ns/op	      72 B/op	       2 allocs/op
PASS
ok  	github.com/mrchypark/daramjwee/pkg/store/memstore	0.914s
level=debug msg="onClose function called" key=my-object
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-3080461227/my-object
level=debug msg="SetWithWriter onClose: before currentSize update" key=my-object oldSize=0 newItemSize=71 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=my-object currentSizeAfterLock=71
level=debug msg="onClose function called" key=stat-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-2246554850/stat-key
level=debug msg="SetWithWriter onClose: before currentSize update" key=stat-key oldSize=0 newItemSize=63 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=stat-key currentSizeAfterLock=63
level=debug msg="onClose function called" key=delete-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-1423118/delete-key
level=debug msg="SetWithWriter onClose: before currentSize update" key=delete-key oldSize=0 newItemSize=52 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=delete-key currentSizeAfterLock=52
level=debug msg="Delete: before currentSize update" key=delete-key deletedSize=52 currentSizeBeforeLock=52
level=debug msg="Delete: after currentSize update" key=delete-key currentSizeAfterLock=0
level=debug msg="Delete: file not found, no size update" key=delete-key path=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-1423118/delete-key
level=debug msg="onClose function called" key=overwrite-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-3067823547/overwrite-key
level=debug msg="SetWithWriter onClose: before currentSize update" key=overwrite-key oldSize=0 newItemSize=61 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=overwrite-key currentSizeAfterLock=61
level=debug msg="onClose function called" key=overwrite-key
level=debug msg="existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-3067823547/overwrite-key oldSize=61
level=debug msg="SetWithWriter onClose: before currentSize update" key=overwrite-key oldSize=61 newItemSize=61 currentSizeBeforeLock=61
level=debug msg="SetWithWriter onClose: after currentSize update" key=overwrite-key currentSizeAfterLock=61
level=debug msg="onClose function called" key=../malicious-file
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-1751424540/malicious-file
level=debug msg="SetWithWriter onClose: before currentSize update" key=../malicious-file oldSize=0 newItemSize=52 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=../malicious-file currentSizeAfterLock=52
level=debug msg="onClose function called" key=copy-test
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-463324018/copy-test
level=debug msg="SetWithWriter onClose: before currentSize update" key=copy-test oldSize=0 newItemSize=69 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=copy-test currentSizeAfterLock=69
level=debug msg="onClose function called" key=rename-fail-key
level=debug msg="existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-2535283983/rename-fail-key oldSize=64
level=debug msg="onClose function called" key=subdir/copy-fail-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-4261808033/subdir/copy-fail-key
level=debug msg="onClose function called" key=metadata-test-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-1646008830/metadata-test-key
level=debug msg="SetWithWriter onClose: before currentSize update" key=metadata-test-key oldSize=0 newItemSize=87 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=metadata-test-key currentSizeAfterLock=87
level=debug msg="onClose function called" key=my-hashed-object
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/filestore-test-2497287144/44/7b/447b5a99bcdb8ef82e18e30022a918b26cf20815dc7294188a939965ca2815a2
level=debug msg="SetWithWriter onClose: before currentSize update" key=my-hashed-object oldSize=0 newItemSize=80 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=my-hashed-object currentSizeAfterLock=80
level=debug msg="Delete: before currentSize update" key=my-hashed-object deletedSize=80 currentSizeBeforeLock=80
level=debug msg="Delete: after currentSize update" key=my-hashed-object currentSizeAfterLock=0
level=debug msg="onClose function called" key=size-test-key
level=debug msg="no existing file found" finalPath=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/TestFileStore_Delete_UpdatesSize1212044093/001/size-test-key
level=debug msg="SetWithWriter onClose: before currentSize update" key=size-test-key oldSize=0 newItemSize=52 currentSizeBeforeLock=0
level=debug msg="SetWithWriter onClose: after currentSize update" key=size-test-key currentSizeAfterLock=52
level=debug msg="Delete: before currentSize update" key=size-test-key deletedSize=52 currentSizeBeforeLock=52
level=debug msg="Delete: after currentSize update" key=size-test-key currentSizeAfterLock=0
level=debug msg="Delete: file not found, no size update" key=size-test-key path=/var/folders/r4/bygqtzg554v3dh6zd8z41zgw0000gn/T/TestFileStore_Delete_UpdatesSize1212044093/001/size-test-key
goos: darwin
goarch: arm64
pkg: github.com/mrchypark/daramjwee/pkg/store/filestore
cpu: Apple M3
BenchmarkFileStore_Set_RenameStrategy-8   	    3982	    129275 ns/op	    4026 B/op	      51 allocs/op
BenchmarkFileStore_Set_CopyStrategy-8     	    3836	    168388 ns/op	   36541 B/op	      54 allocs/op
BenchmarkFileStore_Get_RenameStrategy-8   	   53206	     10924 ns/op	     598 B/op	      13 allocs/op
BenchmarkFileStore_Get_CopyStrategy-8     	   54272	     10973 ns/op	     599 B/op	      13 allocs/op
PASS
ok  	github.com/mrchypark/daramjwee/pkg/store/filestore	4.542s
goos: darwin
goarch: arm64
pkg: github.com/mrchypark/daramjwee/pkg/policy
cpu: Apple M3
BenchmarkLRU_Churn-8   	 6243327	        82.01 ns/op	      57 B/op	       2 allocs/op
PASS
ok  	github.com/mrchypark/daramjwee/pkg/policy	0.791s
